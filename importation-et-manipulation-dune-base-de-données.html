<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 2 Importation et manipulation d‚Äôune base de donn√©es | Analyser des donn√©es avec R</title>
  <meta name="description" content="Introduction √† l‚Äôanalyse des donn√©es avec R" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 2 Importation et manipulation d‚Äôune base de donn√©es | Analyser des donn√©es avec R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="pydm1989.github.io/Analyser-des-donnees-avec-R" />
  
  <meta property="og:description" content="Introduction √† l‚Äôanalyse des donn√©es avec R" />
  <meta name="github-repo" content="PYDM1989/Analyser-des-donnees-avec-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 2 Importation et manipulation d‚Äôune base de donn√©es | Analyser des donn√©es avec R" />
  
  <meta name="twitter:description" content="Introduction √† l‚Äôanalyse des donn√©es avec R" />
  

<meta name="author" content="Pierre-Yves de M√ºllenheim" />


<meta name="date" content="2021-01-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="pr√©requis.html"/>
<link rel="next" href="analyses-descriptives-univari√©es.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analyser des donn√©es avec R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="pr√©requis.html"><a href="pr√©requis.html"><i class="fa fa-check"></i><b>1</b> Pr√©requis</a><ul>
<li class="chapter" data-level="1.1" data-path="pr√©requis.html"><a href="pr√©requis.html#installation-de-r-et-rstudio"><i class="fa fa-check"></i><b>1.1</b> Installation de R et RStudio</a><ul>
<li class="chapter" data-level="1.1.1" data-path="pr√©requis.html"><a href="pr√©requis.html#installer-r-sur-windows"><i class="fa fa-check"></i><b>1.1.1</b> Installer R sur WINDOWS</a></li>
<li class="chapter" data-level="1.1.2" data-path="pr√©requis.html"><a href="pr√©requis.html#installer-r-sur-mac"><i class="fa fa-check"></i><b>1.1.2</b> Installer R sur MAC</a></li>
<li class="chapter" data-level="1.1.3" data-path="pr√©requis.html"><a href="pr√©requis.html#installer-rstudio-sur-windows-ou-mac"><i class="fa fa-check"></i><b>1.1.3</b> Installer RStudio sur WINDOWS ou MAC</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="pr√©requis.html"><a href="pr√©requis.html#prise-en-main-de-rstudio"><i class="fa fa-check"></i><b>1.2</b> Prise en main de RStudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="pr√©requis.html"><a href="pr√©requis.html#manipuler-des-objets-valeurs-vecteurs-et-tableaux-de-donn√©es"><i class="fa fa-check"></i><b>1.2.1</b> Manipuler des objets (valeurs, vecteurs, et tableaux de donn√©es)</a></li>
<li class="chapter" data-level="1.2.2" data-path="pr√©requis.html"><a href="pr√©requis.html#manipuler-des-objets-assign√©s-√†-des-noms"><i class="fa fa-check"></i><b>1.2.2</b> Manipuler des objets assign√©s √† des noms</a></li>
<li class="chapter" data-level="1.2.3" data-path="pr√©requis.html"><a href="pr√©requis.html#utiliser-des-fonctions"><i class="fa fa-check"></i><b>1.2.3</b> Utiliser des fonctions</a></li>
<li class="chapter" data-level="1.2.4" data-path="pr√©requis.html"><a href="pr√©requis.html#installer-et-charger-des-packages"><i class="fa fa-check"></i><b>1.2.4</b> Installer et charger des packages</a></li>
<li class="chapter" data-level="1.2.5" data-path="pr√©requis.html"><a href="pr√©requis.html#divers"><i class="fa fa-check"></i><b>1.2.5</b> Divers</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="pr√©requis.html"><a href="pr√©requis.html#r√©sum√©"><i class="fa fa-check"></i><b>1.3</b> R√©sum√©</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html"><i class="fa fa-check"></i><b>2</b> Importation et manipulation d‚Äôune base de donn√©es</a><ul>
<li class="chapter" data-level="2.1" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#comprendre-ce-quest-une-base-de-donn√©es"><i class="fa fa-check"></i><b>2.1</b> Comprendre ce qu‚Äôest une base de donn√©es</a></li>
<li class="chapter" data-level="2.2" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#fixer-le-r√©pertoire-de-travail"><i class="fa fa-check"></i><b>2.2</b> Fixer le r√©pertoire de travail</a></li>
<li class="chapter" data-level="2.3" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#importer-la-base-de-donn√©es"><i class="fa fa-check"></i><b>2.3</b> Importer la base de donn√©es</a></li>
<li class="chapter" data-level="2.4" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#manipuler-la-base-de-donn√©es"><i class="fa fa-check"></i><b>2.4</b> Manipuler la base de donn√©es</a><ul>
<li class="chapter" data-level="2.4.1" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#v√©rifier-le-succ√®s-de-limportation-de-la-base"><i class="fa fa-check"></i><b>2.4.1</b> V√©rifier le succ√®s de l‚Äôimportation de la base</a></li>
<li class="chapter" data-level="2.4.2" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#v√©rifier-et-reconfigurer-les-types-des-variables-de-la-base"><i class="fa fa-check"></i><b>2.4.2</b> V√©rifier et reconfigurer les types des variables de la base</a></li>
<li class="chapter" data-level="2.4.3" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#s√©lectionner-des-variables-avec-select"><i class="fa fa-check"></i><b>2.4.3</b> S√©lectionner des variables avec select()</a></li>
<li class="chapter" data-level="2.4.4" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#renommer-des-variables-avec-rename"><i class="fa fa-check"></i><b>2.4.4</b> Renommer des variables avec rename()</a></li>
<li class="chapter" data-level="2.4.5" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cr√©er-des-variables-avec-mutate"><i class="fa fa-check"></i><b>2.4.5</b> Cr√©er des variables avec mutate()</a></li>
<li class="chapter" data-level="2.4.6" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#s√©lectionner-des-lignes-avec-filter"><i class="fa fa-check"></i><b>2.4.6</b> S√©lectionner des lignes avec filter()</a></li>
<li class="chapter" data-level="2.4.7" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#arranger-les-lignes-avec-arrange"><i class="fa fa-check"></i><b>2.4.7</b> Arranger les lignes avec arrange()</a></li>
<li class="chapter" data-level="2.4.8" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#r√©sumer-des-variables-avec-group_by-et-summarize"><i class="fa fa-check"></i><b>2.4.8</b> R√©sumer des variables avec group_by() et summarize()</a></li>
<li class="chapter" data-level="2.4.9" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#passer-dune-disposition-en-lignes-√†-une-disposition-en-colonnes-et-inversement-avec-pivot_wider-et-pivot_longer"><i class="fa fa-check"></i><b>2.4.9</b> Passer d‚Äôune disposition en lignes √† une disposition en colonnes et inversement avec pivot_wider() et pivot_longer()</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="importation-et-manipulation-dune-base-de-donn√©es.html"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#r√©sum√©-1"><i class="fa fa-check"></i><b>2.5</b> R√©sum√©</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html"><i class="fa fa-check"></i><b>3</b> Analyses descriptives univari√©es</a><ul>
<li class="chapter" data-level="3.1" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#variables-quantitatives"><i class="fa fa-check"></i><b>3.1</b> Variables quantitatives</a><ul>
<li class="chapter" data-level="3.1.1" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#visualiser-la-distribution-de-la-variable"><i class="fa fa-check"></i><b>3.1.1</b> Visualiser la distribution de la variable</a></li>
<li class="chapter" data-level="3.1.2" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#les-indices-de-position"><i class="fa fa-check"></i><b>3.1.2</b> Les indices de position</a></li>
<li class="chapter" data-level="3.1.3" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#les-indices-de-dispersion"><i class="fa fa-check"></i><b>3.1.3</b> Les indices de dispersion</a></li>
<li class="chapter" data-level="3.1.4" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#les-indices-dasym√©trie-et-daplatissement"><i class="fa fa-check"></i><b>3.1.4</b> Les indices d‚Äôasym√©trie et d‚Äôaplatissement</a></li>
<li class="chapter" data-level="3.1.5" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#fonctions-pour-obtenir-un-r√©capitulatif-des-statistiques-descriptives"><i class="fa fa-check"></i><b>3.1.5</b> Fonctions pour obtenir un r√©capitulatif des statistiques descriptives</a></li>
<li class="chapter" data-level="3.1.6" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#quelles-statistiques-choisir-pour-r√©sumer-une-variable-quantitative-dans-un-rapport"><i class="fa fa-check"></i><b>3.1.6</b> Quelles statistiques choisir pour r√©sumer une variable quantitative dans un rapport ?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#variables-qualitatives"><i class="fa fa-check"></i><b>3.2</b> Variables qualitatives</a><ul>
<li class="chapter" data-level="3.2.1" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#visualiser-la-distribution-de-la-variable-1"><i class="fa fa-check"></i><b>3.2.1</b> Visualiser la distribution de la variable</a></li>
<li class="chapter" data-level="3.2.2" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#d√©terminer-la-tendance-centrale"><i class="fa fa-check"></i><b>3.2.2</b> D√©terminer la tendance centrale</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="analyses-descriptives-univari√©es.html"><a href="analyses-descriptives-univari√©es.html#r√©sum√©-2"><i class="fa fa-check"></i><b>3.3</b> R√©sum√©</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html"><i class="fa fa-check"></i><b>4</b> Analyses descriptives bivari√©es</a><ul>
<li class="chapter" data-level="4.1" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#relation-entre-deux-variables-quantitatives"><i class="fa fa-check"></i><b>4.1</b> Relation entre deux variables quantitatives</a><ul>
<li class="chapter" data-level="4.1.1" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#etudier-graphiquement-la-relation"><i class="fa fa-check"></i><b>4.1.1</b> Etudier graphiquement la relation</a></li>
<li class="chapter" data-level="4.1.2" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#etudier-num√©riquement-la-relation"><i class="fa fa-check"></i><b>4.1.2</b> Etudier num√©riquement la relation</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#relation-entre-deux-variables-qualitatives"><i class="fa fa-check"></i><b>4.2</b> Relation entre deux variables qualitatives</a><ul>
<li class="chapter" data-level="4.2.1" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#etudier-graphiquement-la-relation-1"><i class="fa fa-check"></i><b>4.2.1</b> Etudier graphiquement la relation</a></li>
<li class="chapter" data-level="4.2.2" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#etudier-num√©riquement-la-relation-1"><i class="fa fa-check"></i><b>4.2.2</b> Etudier num√©riquement la relation</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#relation-entre-une-variable-quantitative-et-une-variable-qualitative"><i class="fa fa-check"></i><b>4.3</b> Relation entre une variable quantitative et une variable qualitative</a><ul>
<li class="chapter" data-level="4.3.1" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#etudier-graphiquement-la-relation-2"><i class="fa fa-check"></i><b>4.3.1</b> Etudier graphiquement la relation</a></li>
<li class="chapter" data-level="4.3.2" data-path="analyses-descriptives-bivari√©es.html"><a href="analyses-descriptives-bivari√©es.html#etudier-num√©riquement-la-relation-2"><i class="fa fa-check"></i><b>4.3.2</b> Etudier num√©riquement la relation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r√©gressions.html"><a href="r√©gressions.html"><i class="fa fa-check"></i><b>5</b> R√©gressions</a><ul>
<li class="chapter" data-level="5.1" data-path="r√©gressions.html"><a href="r√©gressions.html#r√©gression-lin√©aire-simple"><i class="fa fa-check"></i><b>5.1</b> R√©gression lin√©aire simple</a><ul>
<li class="chapter" data-level="5.1.1" data-path="r√©gressions.html"><a href="r√©gressions.html#le-coefficient-de-d√©termination"><i class="fa fa-check"></i><b>5.1.1</b> Le coefficient de d√©termination</a></li>
<li class="chapter" data-level="5.1.2" data-path="r√©gressions.html"><a href="r√©gressions.html#lerreur-typique-destimation"><i class="fa fa-check"></i><b>5.1.2</b> L‚Äôerreur typique d‚Äôestimation</a></li>
<li class="chapter" data-level="5.1.3" data-path="r√©gressions.html"><a href="r√©gressions.html#graphique-r√©capitulatif"><i class="fa fa-check"></i><b>5.1.3</b> Graphique r√©capitulatif</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="r√©f√©rences.html"><a href="r√©f√©rences.html"><i class="fa fa-check"></i>R√©f√©rences</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publi√© avec bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analyser des donn√©es avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importation-et-manipulation-dune-base-de-donn√©es" class="section level1">
<h1><span class="header-section-number">Chapitre 2</span> Importation et manipulation d‚Äôune base de donn√©es</h1>
<div id="comprendre-ce-quest-une-base-de-donn√©es" class="section level2">
<h2><span class="header-section-number">2.1</span> Comprendre ce qu‚Äôest une base de donn√©es</h2>
<p>Lorsqu‚Äôon souhaite r√©pondre √† une question, la d√©marche scientifique classique consiste √† effectuer une s√©rie de mesures ou d‚Äôobservations selon un protocole qui a √©t√© con√ßu en coh√©rence avec la question pos√©e. En principe, ces mesures ou observations donnent lieu √† l‚Äôobtention de valeurs. Ces valeurs peuvent √™tre de forme num√©rique (e.g., les valeurs de taille de diff√©rents individus) ou de forme litt√©rale (e.g., les valeurs de sexe de diff√©rents individus). Quelle que soit leur forme, les valeurs que l‚Äôon obtient dans un contexte qui est connu, comme dans le cas d‚Äôun protocole de mesures, ont un sens bien d√©fini car elles sont associ√©es √† des choses que l‚Äôon a cherch√© √† caract√©riser. Lorsqu‚Äôune valeur est porteuse d‚Äôun sens bien d√©fini, on peut alors consid√©rer qu‚Äôil s‚Äôagit d‚Äôune <strong>donn√©e</strong>.
Tr√®s souvent, pour r√©pondre √† une question, il est n√©cessaire d‚Äôacqu√©rir plusieurs donn√©es qui seraient relatives √† diff√©rentes choses que l‚Äôon a cherch√© √† caract√©riser (e.g., la taille, la couleur, le poids, etc.), et qui seraient relatives √©galement √† diff√©rents individus chez qui l‚Äôon aurait souhait√© caract√©riser ces choses. Afin de conduire les analyses qui permettraient de r√©pondre √† la question pos√©e, il convient alors de r√©pertorier toutes les donn√©es acquises dans un m√™me document, et plus exactement dans un m√™me fichier, qui serait la base de donn√©es, telle que pr√©sent√©e ci-dessous.</p>
<table>
<caption><span id="tab:database">Tableau 2.1: </span>Exemple de base de donn√©es</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">genre</th>
<th align="right">taille</th>
<th align="right">nb_victoires</th>
<th align="right">niveau</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">H</td>
<td align="right">1.80</td>
<td align="right">45</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">H</td>
<td align="right">1.93</td>
<td align="right">90</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">H</td>
<td align="right">1.50</td>
<td align="right">100</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">F</td>
<td align="right">1.95</td>
<td align="right">43</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">F</td>
<td align="right">1.52</td>
<td align="right">34</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">H</td>
<td align="right">1.87</td>
<td align="right">67</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="left">H</td>
<td align="right">1.83</td>
<td align="right">79</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>La base de donn√©es prend donc la forme d‚Äôun tableau. Plusieurs principes sont √† respecter en g√©n√©ral lors de la cr√©ation d‚Äôune base de donn√©es. Tout d‚Äôabord, les lignes de la base de donn√©es (qu‚Äôon appelle des <strong>observations</strong>) doivent correspondre le cas √©ch√©ant √† des individus bien identifi√©s. Ensuite, chaque colonne doit correspondre √† une variable. L‚Äôensemble des donn√©es contenues dans une m√™me ligne correspond donc aux donn√©es relatives aux diff√©rentes variables (e.g., la taille, le poids, le sexe, etc.) qui auraient √©t√© obtenues chez un m√™me individu. Dans le cas d‚Äô√©tudes o√π l‚Äôon √©valuerait une ou plusieurs variables plusieurs fois chez un m√™me individu (i.e., √† diff√©rentes moments, dans diff√©rentes conditions), il peut convenir de cr√©er autant de lignes que de fois o√π les variables auraient √©t√© √©valu√©es. Par exemple, le tableau ci-dessous repr√©sente une base de donn√©es (certes tr√®s sommaire) contenant des donn√©es d‚Äôindividus dont on aurait √©valu√© le poids deux fois, avant et apr√®s un programme de prise en charge. On remarque alors qu‚Äôil y a deux lignes par individu qui correspondent aux deux temps d‚Äô√©valuation. La taille, elle, n‚Äôaura √©t√© √©valu√©e qu‚Äôune seule fois, en d√©but de programme, mais pour √©viter de laisser des cellules vides (ce qui est une bonne pratique), alors la valeur aura √©t√© reproduite dans la seconde ligne.</p>
<table>
<caption><span id="tab:databasePlusObs">Tableau 2.2: </span>Organisation d‚Äôune base de donn√©es avec des mesures r√©p√©t√©es</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="right">taille</th>
<th align="left">temps_eval</th>
<th align="right">poids</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="right">1.75</td>
<td align="left">pre</td>
<td align="right">75</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">1.75</td>
<td align="left">post</td>
<td align="right">73</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="right">1.89</td>
<td align="left">pre</td>
<td align="right">90</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">1.89</td>
<td align="left">post</td>
<td align="right">88</td>
</tr>
</tbody>
</table>
<p>En principe, les donn√©es de la base qui ont √©t√© obtenues selon la m√™me proc√©dure d‚Äôacquisition repr√©sentent le m√™me type de choses. Ces choses sont appel√©es des <strong>variables</strong> car elles varient selon les individus qui ont √©t√© √©tudi√©s et les conditions de mesure qui ont √©t√© mises en oeuvre (dans le cas o√π il y en aurait plusieurs). Lorsque ces choses ne sont pas cens√©es varier, on parle de <strong>constantes</strong>. Une base de donn√©es peut comporter plusieurs variables de natures diff√©rentes :</p>
<ul>
<li>Des <strong>variables quantitatives</strong>, qui comportent des nombres. Parmi les variables quantitatives, on distingue celles qui sont continues et celles qui sont discr√®tes. Les variables quantitatives continues contiennent des donn√©es pouvant comporter th√©oriquement un nombre infini de d√©cimales (e.g., la taille, le poids, etc.). Au contraire, les variables quantitatives discr√®tes ne peuvent contenir th√©oriquement que des nombres finis (e.g., le nombre de victoires sportives au cours d‚Äôune ann√©e). Certaines variables en th√©orie discr√®tes sont cependant souvent consid√©r√©es comme continues tant le nombre de valeurs th√©oriquement possibles pour la variable est grand, tel que pour le nombre de globules blancs mesur√©s dans le sang <span class="citation">(Labreuche, <a href="#ref-Labreuche2010" role="doc-biblioref">2010</a>)</span>.</li>
<li>Des <strong>variables qualitatives</strong>, qui contiennent des valeurs d√©signant non pas des quantit√©s mais des modalit√©s. Ces modalit√©s peuvent √™tre exprim√©es sous forme litt√©rale ou num√©rique. Parmi les variables qualitatives, on distingue celles qui sont nominales et celles qui sont ordinales. Les variables qualitatives nominales contiennent des modalit√©s qui ne peuvent pas √™tre ordonn√©es (e.g., les couleurs, les genres, etc.). Au contraire, les variables qualitatives ordinales contiennent des modalit√©s qui peuvent √™tre ordonn√©es (e.g., les niveaux de comp√©tition sportive : d√©partemental ; r√©gional ; interr√©gional ; national ; international). Les variables qualitatives ordinales qui prendraient des valeurs num√©riques pour indiquer par exemple un niveau d‚Äôexpertise (1, 2, 3, 4) se diff√©rencient des variables quantitatives discr√®tes par l‚Äôabsence d‚Äôinformation sur la distance qui s√©pare les nombres de cette variable <span class="citation">(Labreuche, <a href="#ref-Labreuche2010" role="doc-biblioref">2010</a>)</span>.</li>
</ul>
</div>
<div id="fixer-le-r√©pertoire-de-travail" class="section level2">
<h2><span class="header-section-number">2.2</span> Fixer le r√©pertoire de travail</h2>
<p>Lorsque l‚Äôon souhaite r√©aliser l‚Äôanalyse d‚Äôune base de donn√©es avec RStudio, il peut √™tre utile et plus fonctionnel pour la suite de cr√©er un dossier sp√©cifique, sur l‚Äôordinateur, o√π se trouveraient √† la fois la base de donn√©es ainsi que toutes les cr√©ations (e.g., tableaux, figures, etc.) qui seraient produites au fur et √† mesure des analyses. Une fois le dossier cr√©e, il faut ensuite, dans RStudio, ouvrir un fichier <strong>Script</strong> o√π toutes les commandes seront √©crites et enregistrables (chemin d‚Äôacc√®s : <strong>File &gt; New File &gt; R Script</strong>). Une fois ouvert, il est possible d‚Äôenregistrer le script en appuyant sur <strong>Ctrl+S</strong>, en privil√©giant le dossier o√π se trouve la base de donn√©es comme emplacement.
La prochaine manipulation √† faire est alors de <strong>Fixer le r√©pertoire</strong>. L‚Äôenjeu est ici d‚Äôindiquer √† RStudio un dossier √† privil√©gier pour r√©aliser des importations de fichiers dans RStudio ou des exports de fichiers √† partir de RStudio. Le dossier √† consid√©rer pour cela pourrait donc √™tre celui o√π se trouve d√©j√† la base de donn√©es. Plus concr√®tement, apr√®s avoir fait cela, d√®s lors que l‚Äôon voudra importer un tableau de donn√©es dans RStudio, au lieu de pr√©ciser dans la fonction d‚Äôimportation tout le chemin d‚Äôacc√®s d√©finissant l‚Äôemplacement du fichier sur l‚Äôordinateur, il suffira dans la fonction de mettre seulement le nom du fichier √† importer. De plus, d√®s lors que l‚Äôon voudra exporter un tableau ou une figure cr√©e(e) avec RStudio, l‚Äôexport se fera automatiquement vers le dossier de travail en cours si rien n‚Äôest sp√©cifi√© dans la fonction d‚Äôexport quant √† l‚Äôemplacement du document.
Pour fixer le r√©pertoire de travail, il existe plusieurs mani√®res de faire. Une mani√®re relativement simple de proc√©der est la suivante. Suivre le chemin d‚Äôacc√®s suivant √† partir de RStudio : <strong>Session &gt; Set Working Directory &gt; Choose Directory‚Ä¶</strong>. (Ou appuyer sur <strong>Ctr+Shift+H</strong>.). Puis, s√©lectionner le dossier o√π se trouve la base de donn√©es. Enfin, cliquer sur <strong>Open</strong>. Une commmande appara√Æt alors dans la Console. Le r√©pertoire vient donc d‚Äô√™tre fix√©. Pour ne pas devoir faire la m√™me manipulation √† chaque nouvelle ouverture de RStudio, il est possible de copier cette commande qui est apparue dans la Console (ne pas copier le symbole <code>&gt;</code>) et de la coller au d√©but du script. On pourra noter que cette commande contient la fonction <code>setwd()</code>, et qu‚Äô√† l‚Äôint√©rieur se trouve le chemin d‚Äôacc√®s au r√©pertoire de travail qui est √©crit entre des guillemets.</p>
</div>
<div id="importer-la-base-de-donn√©es" class="section level2">
<h2><span class="header-section-number">2.3</span> Importer la base de donn√©es</h2>
<p>Il existe plusieurs fonctions pour importer une base de donn√©es dans RStudio. La fonction <code>read_csv2()</code> du package <code>readr</code> permet d‚Äôimporter par exemple des fichiers .csv qui, structurellement, s√©parent les donn√©es avec des points-virgules. C‚Äôest g√©n√©ralement le type de structure de fichier .csv que l‚Äôon obtient apr√®s avoir r√©alis√© un export √† partir d‚Äôun fichier Excel. Pour illustrer ici l‚Äôimportation d‚Äôune base de donn√©es, il est possible d‚Äôen cr√©er une dans le r√©pertoire de travail actif en y exportant un tableau de donn√©es qui existe d√©j√† avec le logiciel R. Le logiciel R dispose en effet d‚Äôun grand nombre de jeux de donn√©es diff√©rents que tout utilisateur peut consulter et manipuler. L‚Äôensemble des jeux de donn√©es disponibles suite √† l‚Äôinstallation par d√©faut de R est visible en lan√ßant dans la Console la commande <code>data()</code>. Au fur et √† mesure de la d√©couverte des analyses montr√©es dans ce document, diff√©rents jeux de donn√©es seront utilis√©s en fonction des besoins. Pour le moment, il est possible d‚Äôutiliser le jeu de donn√©es qui s‚Äôappelle <code>iris</code>. M√™me si on ne le voit pas dans la fen√™tre Environnement de RStudio, il est bel et bien l√†, disponible, pr√™t √† √™tre utilis√©. Afin d‚Äôexporter ce jeu de donn√©es dans le r√©pertoire de travail fix√© au pr√©alable, il est possible d‚Äôutiliser la fonction <code>write_csv2()</code> du package <code>readr</code>. Pour cela, il suffit d‚Äôutiliser le nom du jeu de donn√©es, puis d‚Äôindiquer entre guillemets le nom que l‚Äôon veut que le fichier export√© ait, tout en n‚Äôoubliant pas de mettre l‚Äôextension .csv √† la fin du nom pour indiquer le format d‚Äôexport, comme ci-dessous.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb43-1"></a><span class="kw">write_csv2</span>(<span class="dt">x =</span> iris, <span class="dt">path =</span> <span class="st">&quot;iris.csv&quot;</span>)</span></code></pre></div>
<p>Si l‚Äôon jette un oeil dans le r√©pertoire de travail, il est alors possible d‚Äôy voir un nouveau fichier .csv du nom de <code>iris</code>. Maintenant qu‚Äôil existe une base de donn√©es dans le r√©pertoire de travail actif, il est possible de concr√©tiser la proc√©dure de son importation dans RStudio. Comme √©voqu√© plus t√¥t dans ce document, il est int√©ressant, et en r√©alit√© n√©cessaire, d‚Äôassigner cette base de donn√©es √† un nom pour pouvoir plus facilement manipuler le jeu de donn√©es par la suite. Ici, nous allons tout naturellement associer ce nouvel objet au nom <code>iris</code>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb44-1"></a>iris &lt;-<span class="st"> </span><span class="kw">read_csv2</span>(<span class="dt">file =</span> <span class="st">&quot;iris.csv&quot;</span>)</span></code></pre></div>
<p>Suite √† l‚Äôactivation de la commande, RStudio nous montre un message d‚Äôinformation sur la mani√®re dont la fonction <code>read_csv2()</code> a configur√© le jeu de donn√©es import√©. Ce message appara√Æt car la fonction importe le jeu de donn√©es non pas sous la forme d‚Äôun <em>data frame</em> comme nous avons pu en cr√©er auparavant, mais sous la forme d‚Äôun <em>tibble</em>, qui d√©signe un format de tableau que l‚Äôon ne peut obtenir qu‚Äôen passant par le biais de fonctions associ√©es √† l‚Äôensemble de packages <code>tidyverse</code>. Pour comprendre l‚Äôint√©r√™t d‚Äôun <em>tibble</em>, revenons au format classique d‚Äôun <em>data frame</em> √† l‚Äôaide de la fonction <code>as.data.frame()</code>.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb45-1"></a>iris &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="dt">x =</span> iris)</span></code></pre></div>
<p>√Ä pr√©sent, regardons ce qu‚Äôil se passe si on lance le nom <code>iris</code> dans la Console‚Ä¶</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb46-1"></a>iris</span></code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 1            5.1         3.5          1.4         0.2     setosa
## 2            4.9         3.0          1.4         0.2     setosa
## 3            4.7         3.2          1.3         0.2     setosa
## 4            4.6         3.1          1.5         0.2     setosa
## 5            5.0         3.6          1.4         0.2     setosa
## 6            5.4         3.9          1.7         0.4     setosa
## 7            4.6         3.4          1.4         0.3     setosa
## 8            5.0         3.4          1.5         0.2     setosa
## 9            4.4         2.9          1.4         0.2     setosa
## 10           4.9         3.1          1.5         0.1     setosa
## 11           5.4         3.7          1.5         0.2     setosa
## 12           4.8         3.4          1.6         0.2     setosa
## 13           4.8         3.0          1.4         0.1     setosa
## 14           4.3         3.0          1.1         0.1     setosa
## 15           5.8         4.0          1.2         0.2     setosa
## 16           5.7         4.4          1.5         0.4     setosa
## 17           5.4         3.9          1.3         0.4     setosa
## 18           5.1         3.5          1.4         0.3     setosa
## 19           5.7         3.8          1.7         0.3     setosa
## 20           5.1         3.8          1.5         0.3     setosa
## 21           5.4         3.4          1.7         0.2     setosa
## 22           5.1         3.7          1.5         0.4     setosa
## 23           4.6         3.6          1.0         0.2     setosa
## 24           5.1         3.3          1.7         0.5     setosa
## 25           4.8         3.4          1.9         0.2     setosa
## 26           5.0         3.0          1.6         0.2     setosa
## 27           5.0         3.4          1.6         0.4     setosa
## 28           5.2         3.5          1.5         0.2     setosa
## 29           5.2         3.4          1.4         0.2     setosa
## 30           4.7         3.2          1.6         0.2     setosa
## 31           4.8         3.1          1.6         0.2     setosa
## 32           5.4         3.4          1.5         0.4     setosa
## 33           5.2         4.1          1.5         0.1     setosa
## 34           5.5         4.2          1.4         0.2     setosa
## 35           4.9         3.1          1.5         0.2     setosa
## 36           5.0         3.2          1.2         0.2     setosa
## 37           5.5         3.5          1.3         0.2     setosa
## 38           4.9         3.6          1.4         0.1     setosa
## 39           4.4         3.0          1.3         0.2     setosa
## 40           5.1         3.4          1.5         0.2     setosa
## 41           5.0         3.5          1.3         0.3     setosa
## 42           4.5         2.3          1.3         0.3     setosa
## 43           4.4         3.2          1.3         0.2     setosa
## 44           5.0         3.5          1.6         0.6     setosa
## 45           5.1         3.8          1.9         0.4     setosa
## 46           4.8         3.0          1.4         0.3     setosa
## 47           5.1         3.8          1.6         0.2     setosa
## 48           4.6         3.2          1.4         0.2     setosa
## 49           5.3         3.7          1.5         0.2     setosa
## 50           5.0         3.3          1.4         0.2     setosa
## 51           7.0         3.2          4.7         1.4 versicolor
## 52           6.4         3.2          4.5         1.5 versicolor
## 53           6.9         3.1          4.9         1.5 versicolor
## 54           5.5         2.3          4.0         1.3 versicolor
## 55           6.5         2.8          4.6         1.5 versicolor
## 56           5.7         2.8          4.5         1.3 versicolor
## 57           6.3         3.3          4.7         1.6 versicolor
## 58           4.9         2.4          3.3         1.0 versicolor
## 59           6.6         2.9          4.6         1.3 versicolor
## 60           5.2         2.7          3.9         1.4 versicolor
## 61           5.0         2.0          3.5         1.0 versicolor
## 62           5.9         3.0          4.2         1.5 versicolor
## 63           6.0         2.2          4.0         1.0 versicolor
## 64           6.1         2.9          4.7         1.4 versicolor
## 65           5.6         2.9          3.6         1.3 versicolor
## 66           6.7         3.1          4.4         1.4 versicolor
## 67           5.6         3.0          4.5         1.5 versicolor
## 68           5.8         2.7          4.1         1.0 versicolor
## 69           6.2         2.2          4.5         1.5 versicolor
## 70           5.6         2.5          3.9         1.1 versicolor
## 71           5.9         3.2          4.8         1.8 versicolor
## 72           6.1         2.8          4.0         1.3 versicolor
## 73           6.3         2.5          4.9         1.5 versicolor
## 74           6.1         2.8          4.7         1.2 versicolor
## 75           6.4         2.9          4.3         1.3 versicolor
## 76           6.6         3.0          4.4         1.4 versicolor
## 77           6.8         2.8          4.8         1.4 versicolor
## 78           6.7         3.0          5.0         1.7 versicolor
## 79           6.0         2.9          4.5         1.5 versicolor
## 80           5.7         2.6          3.5         1.0 versicolor
## 81           5.5         2.4          3.8         1.1 versicolor
## 82           5.5         2.4          3.7         1.0 versicolor
## 83           5.8         2.7          3.9         1.2 versicolor
## 84           6.0         2.7          5.1         1.6 versicolor
## 85           5.4         3.0          4.5         1.5 versicolor
## 86           6.0         3.4          4.5         1.6 versicolor
## 87           6.7         3.1          4.7         1.5 versicolor
## 88           6.3         2.3          4.4         1.3 versicolor
## 89           5.6         3.0          4.1         1.3 versicolor
## 90           5.5         2.5          4.0         1.3 versicolor
## 91           5.5         2.6          4.4         1.2 versicolor
## 92           6.1         3.0          4.6         1.4 versicolor
## 93           5.8         2.6          4.0         1.2 versicolor
## 94           5.0         2.3          3.3         1.0 versicolor
## 95           5.6         2.7          4.2         1.3 versicolor
## 96           5.7         3.0          4.2         1.2 versicolor
## 97           5.7         2.9          4.2         1.3 versicolor
## 98           6.2         2.9          4.3         1.3 versicolor
## 99           5.1         2.5          3.0         1.1 versicolor
## 100          5.7         2.8          4.1         1.3 versicolor
## 101          6.3         3.3          6.0         2.5  virginica
## 102          5.8         2.7          5.1         1.9  virginica
## 103          7.1         3.0          5.9         2.1  virginica
## 104          6.3         2.9          5.6         1.8  virginica
## 105          6.5         3.0          5.8         2.2  virginica
## 106          7.6         3.0          6.6         2.1  virginica
## 107          4.9         2.5          4.5         1.7  virginica
## 108          7.3         2.9          6.3         1.8  virginica
## 109          6.7         2.5          5.8         1.8  virginica
## 110          7.2         3.6          6.1         2.5  virginica
## 111          6.5         3.2          5.1         2.0  virginica
## 112          6.4         2.7          5.3         1.9  virginica
## 113          6.8         3.0          5.5         2.1  virginica
## 114          5.7         2.5          5.0         2.0  virginica
## 115          5.8         2.8          5.1         2.4  virginica
## 116          6.4         3.2          5.3         2.3  virginica
## 117          6.5         3.0          5.5         1.8  virginica
## 118          7.7         3.8          6.7         2.2  virginica
## 119          7.7         2.6          6.9         2.3  virginica
## 120          6.0         2.2          5.0         1.5  virginica
## 121          6.9         3.2          5.7         2.3  virginica
## 122          5.6         2.8          4.9         2.0  virginica
## 123          7.7         2.8          6.7         2.0  virginica
## 124          6.3         2.7          4.9         1.8  virginica
## 125          6.7         3.3          5.7         2.1  virginica
## 126          7.2         3.2          6.0         1.8  virginica
## 127          6.2         2.8          4.8         1.8  virginica
## 128          6.1         3.0          4.9         1.8  virginica
## 129          6.4         2.8          5.6         2.1  virginica
## 130          7.2         3.0          5.8         1.6  virginica
## 131          7.4         2.8          6.1         1.9  virginica
## 132          7.9         3.8          6.4         2.0  virginica
## 133          6.4         2.8          5.6         2.2  virginica
## 134          6.3         2.8          5.1         1.5  virginica
## 135          6.1         2.6          5.6         1.4  virginica
## 136          7.7         3.0          6.1         2.3  virginica
## 137          6.3         3.4          5.6         2.4  virginica
## 138          6.4         3.1          5.5         1.8  virginica
## 139          6.0         3.0          4.8         1.8  virginica
## 140          6.9         3.1          5.4         2.1  virginica
## 141          6.7         3.1          5.6         2.4  virginica
## 142          6.9         3.1          5.1         2.3  virginica
## 143          5.8         2.7          5.1         1.9  virginica
## 144          6.8         3.2          5.9         2.3  virginica
## 145          6.7         3.3          5.7         2.5  virginica
## 146          6.7         3.0          5.2         2.3  virginica
## 147          6.3         2.5          5.0         1.9  virginica
## 148          6.5         3.0          5.2         2.0  virginica
## 149          6.2         3.4          5.4         2.3  virginica
## 150          5.9         3.0          5.1         1.8  virginica</code></pre>
<p>RStudio nous montre tout le jeu de donn√©es dans la Console, ce qui n‚Äôest pas tr√®s utile, d‚Äôautant plus que l‚Äôon peut perdre de vue la premi√®re ligne de titre lorsque le jeu de donn√©es contient beaucoup de lignes. Retournons donc au format <em>tibble</em> gr√¢ce √† la fonction <code>as_tibble()</code> du package <code>tibble</code>, et voyons ce qu‚Äôil se passe lorsqu‚Äôon lance √† nouveau le nom <code>iris</code> dans la Console.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb48-1"></a>iris &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(<span class="dt">x =</span> iris)</span>
<span id="cb48-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb48-2"></a>iris</span></code></pre></div>
<pre><code>## [90m# A tibble: 150 x 5[39m
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m  
## [90m 1[39m          5.1         3.5          1.4         0.2 setosa 
## [90m 2[39m          4.9         3            1.4         0.2 setosa 
## [90m 3[39m          4.7         3.2          1.3         0.2 setosa 
## [90m 4[39m          4.6         3.1          1.5         0.2 setosa 
## [90m 5[39m          5           3.6          1.4         0.2 setosa 
## [90m 6[39m          5.4         3.9          1.7         0.4 setosa 
## [90m 7[39m          4.6         3.4          1.4         0.3 setosa 
## [90m 8[39m          5           3.4          1.5         0.2 setosa 
## [90m 9[39m          4.4         2.9          1.4         0.2 setosa 
## [90m10[39m          4.9         3.1          1.5         0.1 setosa 
## [90m# ‚Ä¶ with 140 more rows[39m</code></pre>
<p>Cette fois, RStudio n‚Äôaffiche que les premi√®res lignes du jeu de donn√©es, et il fournit en plus de cela des informations quant aux types de variables pr√©sentes dans le jeu de donn√©es, en-dessous de la ligne de titres. Maintenant que la base de donn√©es a √©t√© import√©e, il ne reste plus qu‚Äô√† voir diff√©rentes fonctions pour pouvoir configurer la base de donn√©es telle que nous la voulons pour r√©aliser confortablement les analyses.</p>
</div>
<div id="manipuler-la-base-de-donn√©es" class="section level2">
<h2><span class="header-section-number">2.4</span> Manipuler la base de donn√©es</h2>
<div id="v√©rifier-le-succ√®s-de-limportation-de-la-base" class="section level3">
<h3><span class="header-section-number">2.4.1</span> V√©rifier le succ√®s de l‚Äôimportation de la base</h3>
<p>Avant de d√©buter les analyses de la base de donn√©es, une bonne pratique est de v√©rifier si la base de donn√©es a √©t√© correctement import√©e avec RStudio. Une mani√®re rapide de faire cela est de regarder le nombre d‚Äôobservations (i.e., de lignes) et de variables (i.e., de colonnes) associ√©s √† l‚Äôobjet cr√©e lors de l‚Äôimportation et visible dans la fen√™tre Environnement de RStudio, puis de cliquer sur le nom associ√© √† l‚Äôobjet. Lors de l‚Äô√©tape pr√©c√©dente, nous avons import√© le jeu de donn√©es <code>iris</code> en l‚Äôappelant ainsi. Lorsque l‚Äôon cherche le nom <code>iris</code> dans la fen√™tre Environnement, on peut voir que l‚Äôobjet associ√© contient 150 observations et 5 variables, signes que la structure du jeu de donn√©es a √©t√© bien interpr√©t√©e par R si l‚Äôon sait que ce sont effectivement les dimensions du jeu de donn√©es en question. Puis, lorsque l‚Äôon clique sur le nom <code>iris</code> dans la liste des noms montr√©s dans la fen√™tre Environnement, RStudio ouvre un onglet qui contient les donn√©es. Il est alors possible de voir d‚Äôun simple coup d‚Äôoeil si les donn√©es sont bien pr√©sentes et organis√©es en lignes et en colonnes comme attendu.</p>
</div>
<div id="v√©rifier-et-reconfigurer-les-types-des-variables-de-la-base" class="section level3">
<h3><span class="header-section-number">2.4.2</span> V√©rifier et reconfigurer les types des variables de la base</h3>
<p>Il convient de v√©rifier que les types des variables que RStudio a associ√©s aux variables du jeu de donn√©es import√© soient bien en accord avec ce qui √©tait attendu. Pour v√©rifier les types des variables, il est possible d‚Äôutiliser la fonction <code>str()</code> avec le nom auquel on a associ√© la base de donn√©es.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb50-1"></a><span class="kw">str</span>(iris)</span></code></pre></div>
<pre><code>## tibble [150 √ó 5] (S3: tbl_df/tbl/data.frame)
##  $ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : chr [1:150] &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Sepal.Length = [32mcol_double()[39m,
##   ..   Sepal.Width = [32mcol_double()[39m,
##   ..   Petal.Length = [32mcol_double()[39m,
##   ..   Petal.Width = [32mcol_double()[39m,
##   ..   Species = [31mcol_character()[39m
##   .. )</code></pre>
<p>Apr√®s avoir activ√© la commande contenant la fonction <code>str()</code>, la Console affiche plusieurs lignes d‚Äôinformation, avec √† chaque fois le nom de la variable, son type, et les premi√®res valeurs de la variable. Plusieurs termes peuvent √™tre rencontr√©s selon la mani√®re dont R a interpr√©t√© les variables du jeu de donn√©es, notamment (mais pas seulement) :</p>
<ul>
<li>num : d√©signe une variable quantitative continue.</li>
<li>int : d√©gine une variable quantitative discr√®te (avec des nombres entiers).</li>
<li>Factor : d√©signe une variable qualitative nominale.</li>
<li>chr : d√©signe une variable texte.</li>
<li>Date : d√©signe une variable date.</li>
</ul>
<p>Le logiciel R s‚Äôappuie donc sur une classification des types de variables plus complexe que celle que nous avons pr√©sent√©e pr√©c√©demment. On peut noter que les abbr√©viations montr√©es pour indiquer le type de variable en utilisant la fonction <code>str()</code> sont diff√©rentes de celles montr√©es lorsque l‚Äôon observe un jeu de donn√©es au format <em>tibble</em> dans la Console, mais ces diff√©rences refl√®tent en r√©alit√© principalement une divergence dans les strat√©gies d‚Äô√©criture de l‚Äôinformation par les concepteurs des packages et des fonctions. En outre, si l‚Äôon veut d√©terminer le type d‚Äôune seule variable, ou plus globalement le type de l‚Äôobjet qui nous int√©resse, on peut utiliser la fonction <code>class()</code>. Utiliser un nom de variable avec cette fonction renverra le type de la variable, comme montr√© ci-dessous.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb52-1"></a><span class="kw">class</span>(<span class="dt">x =</span> iris<span class="op">$</span>Sepal.Length)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Lorsque le type de variable ne correspond pas √† celui attendu, il peut √™tre utile de se questionner sur les raisons de la mauvaise interpr√©tation que R en a faite. L‚Äôune des erreurs qui peuvent r√©guli√®rement survenir est le fait d‚Äôobtenir une variable de type <em>Factor</em> ou de type <em>chr</em> au lieu d‚Äôune variable de type <em>num</em> lorsque l‚Äôimportation du jeu de donn√©es a √©t√© r√©alis√©e avec une fonction d‚Äôimportation mal configur√©e (e.g., il est possible que la fonction d‚Äôimportation du jeu de donn√©es consid√©rait les valeurs comme des nombres d√©cimaux lorsqu‚Äôils avaient des points (.) alors qu‚Äôen r√©alit√© les nombres d√©cimaux √©taient √©crits avec des virgules (,) dans le jeu de donn√©es. Une autre possibilit√© est que l‚Äôon n‚Äôait pas indiqu√© dans la fonction d‚Äôimportation sous quelle forme se pr√©sentaient les valeurs manquantes de la base de donn√©es (e.g., s‚Äôil y a des valeurs manquantes not√©es ‚ÄúNA‚Äù dans la base de donn√©es, mais que cela n‚Äôest pas indiqu√© dans la fonction d‚Äôimportation, R peut interpr√©ter les variables concern√©es comme des variables <em>chr</em>). En utilisant la fonction <code>read_csv2()</code> du package <code>readr</code>, ces √©cueils sont plus facilement √©vit√©s car les param√®tres par d√©faut de la fonction nous facilitent le travail. En revanche, d‚Äôautres fonctions, plus anciennes, comme <code>read.csv2()</code> qui est une fonction de base de R, n√©cessitent plus de vigilance.</p>
<p>Lorsque la modification du type de la variable est n√©cessaire, une strat√©gie possible est de cr√©er une variable portant exactement le m√™me nom √† partir de la variable initiale et √† laquelle on applique une fonction capable d‚Äôimposer un certain type de variable. Il existe une fonction pour chaque type de variable √† d√©finir, notamment (mais pas seulement) :</p>
<ul>
<li>La fonction <code>as.numeric()</code> pour obtenir un type de variable quantitative.</li>
<li>La fonction <code>as.factor()</code> pour un obtenir un type de variable qualitative.</li>
<li>La fonction <code>as.character()</code> pour un obtenir un type de variable texte.</li>
<li>La fonction <code>as.Date()</code> pour obtenir un type de variable date.</li>
</ul>
<p>Par exemple, nous aurions pu vouloir faire en sorte que toutes les variables du jeu de donn√©es <code>iris</code> soient de type texte :</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb54-1"></a>iris<span class="op">$</span>Sepal.Length &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dt">x =</span> iris<span class="op">$</span>Sepal.Length)</span>
<span id="cb54-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb54-2"></a>iris<span class="op">$</span>Sepal.Width &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dt">x =</span> iris<span class="op">$</span>Sepal.Width)</span>
<span id="cb54-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb54-3"></a>iris<span class="op">$</span>Petal.Length &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dt">x =</span> iris<span class="op">$</span>Petal.Length)</span>
<span id="cb54-4"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb54-4"></a>iris<span class="op">$</span>Petal.Width &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dt">x =</span> iris<span class="op">$</span>Petal.Width)</span>
<span id="cb54-5"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb54-5"></a>iris<span class="op">$</span>Species &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dt">x =</span> iris<span class="op">$</span>Species)</span></code></pre></div>
<p>Remarquons qu‚Äô√† chaque fois, la variable d√©sign√©e √† gauche de la fl√®che d‚Äôassignation est exactement la m√™me que celle qui est indiqu√©e √† droite de la fl√®che d‚Äôassignation dans la fonction <code>as.character()</code>, ce qui implique que la cr√©ation de la nouvelle variable entra√Æne la suppression et le remplacement de la pr√©c√©dente qui portait le m√™me nom. Il est possible de v√©rifier la cons√©quence de ces commandes avec la fonction <code>str()</code>.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb55-1"></a><span class="kw">str</span>(iris)</span></code></pre></div>
<pre><code>## tibble [150 √ó 5] (S3: tbl_df/tbl/data.frame)
##  $ Sepal.Length: chr [1:150] &quot;5.1&quot; &quot;4.9&quot; &quot;4.7&quot; &quot;4.6&quot; ...
##  $ Sepal.Width : chr [1:150] &quot;3.5&quot; &quot;3&quot; &quot;3.2&quot; &quot;3.1&quot; ...
##  $ Petal.Length: chr [1:150] &quot;1.4&quot; &quot;1.4&quot; &quot;1.3&quot; &quot;1.5&quot; ...
##  $ Petal.Width : chr [1:150] &quot;0.2&quot; &quot;0.2&quot; &quot;0.2&quot; &quot;0.2&quot; ...
##  $ Species     : chr [1:150] &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Sepal.Length = [32mcol_double()[39m,
##   ..   Sepal.Width = [32mcol_double()[39m,
##   ..   Petal.Length = [32mcol_double()[39m,
##   ..   Petal.Width = [32mcol_double()[39m,
##   ..   Species = [31mcol_character()[39m
##   .. )</code></pre>
<p>Cette strat√©gie de modification du type de la variable peut convenir lorsqu‚Äôil y a peu de variables √† modifier. Cependant, lorsque la liste s‚Äôallonge, il peut √™tre plus lisible, en mati√®re de code, de fonctionner autrement : en utilisant le symbole <code>%&gt;%</code> (qu‚Äôon appelle <em>pipe</em>), et la fonction <code>mutate()</code> du package <code>dplyr</code>.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb57-1"></a>iris &lt;-<span class="st"> </span></span>
<span id="cb57-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb57-2"></a><span class="st">  </span>iris <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb57-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Sepal.Length =</span> <span class="kw">as.numeric</span>(<span class="dt">x =</span> Sepal.Length),</span>
<span id="cb57-4"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb57-4"></a>         <span class="dt">Sepal.Width =</span> <span class="kw">as.numeric</span>(<span class="dt">x =</span> Sepal.Width),</span>
<span id="cb57-5"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb57-5"></a>         <span class="dt">Petal.Length =</span> <span class="kw">as.numeric</span>(<span class="dt">x =</span> Petal.Length),</span>
<span id="cb57-6"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb57-6"></a>         <span class="dt">Petal.Width =</span> <span class="kw">as.numeric</span>(<span class="dt">x =</span> Petal.Width),</span>
<span id="cb57-7"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb57-7"></a>         <span class="dt">Species =</span> <span class="kw">as.factor</span>(<span class="dt">x =</span> Species))</span></code></pre></div>
<p>Ici, le symbole <code>%&gt;%</code> permet d‚Äôindiquer √† R que toutes les fonctions qui sont √©crites apr√®s ce symbole s‚Äôappliquent √† ce qui a √©t√© d√©fini avant ce symbole. La fonction <code>mutate()</code>, dont nous reparlerons peu apr√®s, permet de cr√©er de nouvelles variables dans le cadre de cette strat√©gie, soit en √©crasant les anciennes variables si les anciens noms sont conserv√©s, soit en cr√©ant de nouvelles variables si de nouveaux noms sont utilis√©s. Remarquons √©galement qu‚Äôavec ce code, nous venons de cr√©er un nouvel objet (en l‚Äôassignant √† nouveau au nom<code>iris</code>) √† partir de l‚Äôancien objet, mais dont on a transform√© les types des variables, perdant dans le m√™me temps l‚Äôancien objet.</p>
</div>
<div id="s√©lectionner-des-variables-avec-select" class="section level3">
<h3><span class="header-section-number">2.4.3</span> S√©lectionner des variables avec select()</h3>
<p>Certains jeux de donn√©es peuvent √™tre tr√®s larges, c‚Äôest-√†-dire qu‚Äôils peuvent contenir beaucoup de colonnes, parfois inutiles, et qui peuvent √™tre g√™nantes lorsque l‚Äôon veut avoir une vue claire du contenu du jeu de donn√©es. La fonction <code>select()</code> du package <code>dplyr</code> permet de s√©lectionner des colonnes facilement.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb58-1"></a>iris <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb58-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb58-2"></a><span class="st">  </span><span class="kw">select</span>(Petal.Length, Petal.Width, Species)</span></code></pre></div>
<pre><code>## [90m# A tibble: 150 x 3[39m
##    Petal.Length Petal.Width Species
##           [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m  
## [90m 1[39m          1.4         0.2 setosa 
## [90m 2[39m          1.4         0.2 setosa 
## [90m 3[39m          1.3         0.2 setosa 
## [90m 4[39m          1.5         0.2 setosa 
## [90m 5[39m          1.4         0.2 setosa 
## [90m 6[39m          1.7         0.4 setosa 
## [90m 7[39m          1.4         0.3 setosa 
## [90m 8[39m          1.5         0.2 setosa 
## [90m 9[39m          1.4         0.2 setosa 
## [90m10[39m          1.5         0.1 setosa 
## [90m# ‚Ä¶ with 140 more rows[39m</code></pre>
</div>
<div id="renommer-des-variables-avec-rename" class="section level3">
<h3><span class="header-section-number">2.4.4</span> Renommer des variables avec rename()</h3>
<p>Il est possible que certains titres de variables ne soient pas clairs ou trop longs, ce qui peut √™tre g√™nant pour √©crire un code le plus lisible possible. La fonction <code>rename()</code> du package <code>dplyr</code> permet de g√©rer cela. Dans l‚Äôexemple ci-dessous, on observe que le nouveau nom doit √™tre √©crit √† gauche du signal <code>=</code>, alors que l‚Äôancien nom doit √™tre √©crit √† droite du signe <code>=</code>.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb60-1"></a>iris <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb60-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb60-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">Sepal_long =</span> Sepal.Length,</span>
<span id="cb60-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb60-3"></a>         <span class="dt">Sepal_lar =</span> Sepal.Width,</span>
<span id="cb60-4"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb60-4"></a>         <span class="dt">Petal_long =</span> Petal.Length,</span>
<span id="cb60-5"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb60-5"></a>         <span class="dt">Petal_lar =</span> Petal.Width,</span>
<span id="cb60-6"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb60-6"></a>         <span class="dt">Especes =</span> Species)</span></code></pre></div>
<pre><code>## [90m# A tibble: 150 x 5[39m
##    Sepal_long Sepal_lar Petal_long Petal_lar Especes
##         [3m[90m&lt;dbl&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m      [3m[90m&lt;dbl&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m  
## [90m 1[39m        5.1       3.5        1.4       0.2 setosa 
## [90m 2[39m        4.9       3          1.4       0.2 setosa 
## [90m 3[39m        4.7       3.2        1.3       0.2 setosa 
## [90m 4[39m        4.6       3.1        1.5       0.2 setosa 
## [90m 5[39m        5         3.6        1.4       0.2 setosa 
## [90m 6[39m        5.4       3.9        1.7       0.4 setosa 
## [90m 7[39m        4.6       3.4        1.4       0.3 setosa 
## [90m 8[39m        5         3.4        1.5       0.2 setosa 
## [90m 9[39m        4.4       2.9        1.4       0.2 setosa 
## [90m10[39m        4.9       3.1        1.5       0.1 setosa 
## [90m# ‚Ä¶ with 140 more rows[39m</code></pre>
</div>
<div id="cr√©er-des-variables-avec-mutate" class="section level3">
<h3><span class="header-section-number">2.4.5</span> Cr√©er des variables avec mutate()</h3>
<p>Certaines analyses peuvent n√©cessiter d‚Äôajouter des variables √† partir de calculs r√©alis√©s sur des variables qui existent d√©j√† dans le jeu de donn√©es. La fonction <code>mutate()</code>, du package <code>dplyr</code>, et que nous avons d√©j√† rencontr√©e pr√©c√©demment, permet cela. Dans l‚Äôexemple ci-dessous, on observe que le nom de la nouvelle variable √† cr√©er est √† gauche du signe <code>=</code> et que le calcul cr√©ant les nouvelles valeurs est d√©crit √† droite du signe <code>=</code>.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb62-1"></a>iris <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb62-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb62-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ratio_sepal =</span> Sepal.Length <span class="op">/</span><span class="st"> </span>Sepal.Width, </span>
<span id="cb62-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb62-3"></a>         <span class="dt">ratio_petal =</span> Petal.Length <span class="op">/</span><span class="st"> </span>Petal.Width)</span></code></pre></div>
<pre><code>## [90m# A tibble: 150 x 7[39m
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species ratio_sepal
##           [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m
## [90m 1[39m          5.1         3.5          1.4         0.2 setosa         1.46
## [90m 2[39m          4.9         3            1.4         0.2 setosa         1.63
## [90m 3[39m          4.7         3.2          1.3         0.2 setosa         1.47
## [90m 4[39m          4.6         3.1          1.5         0.2 setosa         1.48
## [90m 5[39m          5           3.6          1.4         0.2 setosa         1.39
## [90m 6[39m          5.4         3.9          1.7         0.4 setosa         1.38
## [90m 7[39m          4.6         3.4          1.4         0.3 setosa         1.35
## [90m 8[39m          5           3.4          1.5         0.2 setosa         1.47
## [90m 9[39m          4.4         2.9          1.4         0.2 setosa         1.52
## [90m10[39m          4.9         3.1          1.5         0.1 setosa         1.58
## [90m# ‚Ä¶ with 140 more rows, and 1 more variable: ratio_petal [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
</div>
<div id="s√©lectionner-des-lignes-avec-filter" class="section level3">
<h3><span class="header-section-number">2.4.6</span> S√©lectionner des lignes avec filter()</h3>
<p>En fonction des besoins de l‚Äôanalyse, on peut vouloir ne retenir que certaines lignes du fichier de donn√©es. La fonction <code>filter()</code> du package <code>dplyr</code> est faite pour r√©aliser ce filtrage. Plusieurs op√©rateurs sont disponibles pour ne retenir que les lignes que l‚Äôon veut :</p>
<table>
<caption><span id="tab:SymbolsFilter">Tableau 2.3: </span>Les op√©rateurs utilisables avec la fonction <code>filter()</code></caption>
<thead>
<tr class="header">
<th align="left">Op√©ration</th>
<th align="left">Op√©rateur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">√âgal</td>
<td align="left">==</td>
</tr>
<tr class="even">
<td align="left">Inf√©rieur ou √©gal</td>
<td align="left">&lt;=</td>
</tr>
<tr class="odd">
<td align="left">Sup√©rieur ou √©gal</td>
<td align="left">&gt;=</td>
</tr>
<tr class="even">
<td align="left">Diff√©rent de</td>
<td align="left">!=</td>
</tr>
</tbody>
</table>
<p>De plus, dans la configuration du code, ces op√©rateurs peuvent √™tre coupl√©s √† l‚Äôop√©rateur <code>|</code> (OU) et √† l‚Äôop√©rateur <code>&amp;</code> (ET). Dans l‚Äôexemple ci-dessous, le code permet, √† partir du jeu de donn√©es <code>iris</code>, de ne garder que les lignes du jeu de donn√©es qui contiennent les noms d‚Äôesp√®ce <em>setosa</em> OU <em>virginica</em>, ET en m√™me temps qui affichent une longueur de s√©pale inf√©rieure ou √©gale √† 5.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb64-1"></a>iris <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb64-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb64-2"></a><span class="st">  </span><span class="kw">filter</span>((Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span> <span class="op">|</span><span class="st"> </span>Species <span class="op">==</span><span class="st"> &quot;virginica&quot;</span>) <span class="op">&amp;</span></span>
<span id="cb64-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb64-3"></a><span class="st">          </span>Sepal.Length <span class="op">&lt;=</span><span class="st"> </span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [90m# A tibble: 29 x 5[39m
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m  
## [90m 1[39m          4.9         3            1.4         0.2 setosa 
## [90m 2[39m          4.7         3.2          1.3         0.2 setosa 
## [90m 3[39m          4.6         3.1          1.5         0.2 setosa 
## [90m 4[39m          5           3.6          1.4         0.2 setosa 
## [90m 5[39m          4.6         3.4          1.4         0.3 setosa 
## [90m 6[39m          5           3.4          1.5         0.2 setosa 
## [90m 7[39m          4.4         2.9          1.4         0.2 setosa 
## [90m 8[39m          4.9         3.1          1.5         0.1 setosa 
## [90m 9[39m          4.8         3.4          1.6         0.2 setosa 
## [90m10[39m          4.8         3            1.4         0.1 setosa 
## [90m# ‚Ä¶ with 19 more rows[39m</code></pre>
</div>
<div id="arranger-les-lignes-avec-arrange" class="section level3">
<h3><span class="header-section-number">2.4.7</span> Arranger les lignes avec arrange()</h3>
<p>On peut vouloir que le jeu de donn√©es soit arrang√©, ou tri√©, selon un certain ordre, en fonction des valeurs d‚Äôune variable donn√©e. La fonction <code>arrange()</code> du package <code>dplyr</code> est tr√®s utile pour g√©rer ce genre de r√©alisation. L‚Äôexemple ci-dessous conduit √† trier les donn√©es selon un ordre croissant en fonction des valeurs de la variable <code>Sepal.Length</code>. Le fait de mettre le symbole <code>-</code> devant le nom de la variable aurait conduit √† un tri d√©croissant.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb66-1"></a>iris <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb66-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb66-2"></a><span class="st">  </span><span class="kw">arrange</span>(Sepal.Length)</span></code></pre></div>
<pre><code>## [90m# A tibble: 150 x 5[39m
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m  
## [90m 1[39m          4.3         3            1.1         0.1 setosa 
## [90m 2[39m          4.4         2.9          1.4         0.2 setosa 
## [90m 3[39m          4.4         3            1.3         0.2 setosa 
## [90m 4[39m          4.4         3.2          1.3         0.2 setosa 
## [90m 5[39m          4.5         2.3          1.3         0.3 setosa 
## [90m 6[39m          4.6         3.1          1.5         0.2 setosa 
## [90m 7[39m          4.6         3.4          1.4         0.3 setosa 
## [90m 8[39m          4.6         3.6          1           0.2 setosa 
## [90m 9[39m          4.6         3.2          1.4         0.2 setosa 
## [90m10[39m          4.7         3.2          1.3         0.2 setosa 
## [90m# ‚Ä¶ with 140 more rows[39m</code></pre>
</div>
<div id="r√©sumer-des-variables-avec-group_by-et-summarize" class="section level3">
<h3><span class="header-section-number">2.4.8</span> R√©sumer des variables avec group_by() et summarize()</h3>
<p>Bien qu‚Äôune base de donn√©es puisse contenir √©norm√©ment de lignes, on peut n‚Äôen vouloir que la version r√©sum√©e. Les fonctions <code>group_by()</code> et <code>summarize()</code> du package <code>dplyr</code> permettent de faire cela ais√©ment. Dans l‚Äôexemple ci-dessous, la fonction <code>group_by()</code> permet d‚Äôindiquer que les calculs r√©alis√©s par la suite avec la fonction <code>summarize()</code> doivent √™tre ex√©cut√©s pour les modalit√©s de la variable <code>Species</code> prises s√©par√©ment. La fonction <code>summarize()</code>, quant √† elle, permet d‚Äôex√©ctuer diff√©rents calculs. Dans l‚Äôexemple ci-dessous, il s‚Äôagit de moyennes, obtenues √† l‚Äôaide de la fonction <code>mean()</code>. De plus, la fonction <code>summarize()</code> permet, comme montr√© ci-dessous, d‚Äôindiquer √† gauche du <code>=</code> le nom du titre du calcul alors effectu√© .</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb68-1"></a>iris <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb68-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb68-2"></a><span class="st">  </span><span class="kw">group_by</span>(Species) <span class="op">%&gt;%</span></span>
<span id="cb68-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb68-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_sep_len =</span> <span class="kw">mean</span>(Sepal.Length),</span>
<span id="cb68-4"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb68-4"></a>            <span class="dt">mean_sep_wid =</span> <span class="kw">mean</span>(Sepal.Width))</span></code></pre></div>
<pre><code>## [90m# A tibble: 3 x 3[39m
##   Species    mean_sep_len mean_sep_wid
## [90m*[39m [3m[90m&lt;fct&gt;[39m[23m             [3m[90m&lt;dbl&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m setosa             5.01         3.43
## [90m2[39m versicolor         5.94         2.77
## [90m3[39m virginica          6.59         2.97</code></pre>
<p>Au cours des illustrations montrant l‚Äôusage des fonctions <code>select()</code> jusqu‚Äô√† <code>summarize()</code>, il aura √©t√© possible de noter que les commandes n‚Äô√©crasaient pas le jeu de donn√©es initial, ni ne cr√©aient de nouveaux jeux de donn√©es, car aucune assignation √† un nom n‚Äô√©tait faite. Lorsqu‚Äôune assignation est r√©alis√©e, il est conseill√© d‚Äôutiliser un nouveau nom, diff√©rent de celui utilis√© pour le jeu de donn√©es initial, pour pouvoir revenir au jeu de donn√©es originel lorsque cela est souhait√©. Ci-dessous un exemple de cr√©ation d‚Äôun nouvel objet de type tableau (assign√© au nom <code>iris2</code>) √† partir de l‚Äôutilisation de la plupart des fonctions que nous venons de voir et qui peuvent √™tre utilis√©es dans un m√™me bloc de code gr√¢ce au <em>pipe</em> (<code>%&gt;%</code>).</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb70-1"></a>iris2 &lt;-<span class="st"> </span></span>
<span id="cb70-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb70-2"></a><span class="st">  </span>iris <span class="op">%&gt;%</span></span>
<span id="cb70-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb70-3"></a><span class="st">  </span><span class="kw">select</span>(Petal.Length, Petal.Width, Species) <span class="op">%&gt;%</span></span>
<span id="cb70-4"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb70-4"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">Petal_len =</span> Petal.Length, <span class="dt">Petal_wid =</span> Petal.Width) <span class="op">%&gt;%</span></span>
<span id="cb70-5"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb70-5"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Petal_ratio =</span> Petal_len <span class="op">/</span><span class="st"> </span>Petal_wid) <span class="op">%&gt;%</span></span>
<span id="cb70-6"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb70-6"></a><span class="st">  </span><span class="kw">filter</span>((Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span> <span class="op">|</span><span class="st"> </span>Species <span class="op">==</span><span class="st"> &quot;virginica&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>Petal_ratio <span class="op">&gt;</span><span class="st"> </span><span class="dv">8</span>) <span class="op">%&gt;%</span></span>
<span id="cb70-7"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb70-7"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>Petal_ratio)</span>
<span id="cb70-8"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb70-8"></a>iris2</span></code></pre></div>
<pre><code>## [90m# A tibble: 7 x 4[39m
##   Petal_len Petal_wid Species Petal_ratio
##       [3m[90m&lt;dbl&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m       1.5       0.1 setosa        15   
## [90m2[39m       1.5       0.1 setosa        15   
## [90m3[39m       1.4       0.1 setosa        14.0 
## [90m4[39m       1.4       0.1 setosa        14.0 
## [90m5[39m       1.1       0.1 setosa        11   
## [90m6[39m       1.9       0.2 setosa         9.50
## [90m7[39m       1.7       0.2 setosa         8.5</code></pre>
</div>
<div id="passer-dune-disposition-en-lignes-√†-une-disposition-en-colonnes-et-inversement-avec-pivot_wider-et-pivot_longer" class="section level3">
<h3><span class="header-section-number">2.4.9</span> Passer d‚Äôune disposition en lignes √† une disposition en colonnes et inversement avec pivot_wider() et pivot_longer()</h3>
<p>Il convient de respecter certaines r√®gles de base lors de la conception d‚Äôune base de donn√©es (e.g., mettre les observations en lignes et les variables en colonnes). Toutefois, dans certains cas, m√™me apr√®s avoir bien respecter les r√®gles, la mani√®re selon laquelle la base de donn√©es a √©t√© organis√©e peut ne pas √™tre encore ad√©quate pour pouvoir utiliser certaines fonctions. Prenons par exemple le cas o√π toutes les valeurs num√©riques d‚Äôune variable quantitative auraient √©t√© mises dans une m√™me colonne en regard d‚Äôune variable qualitative pour que chaque valeur num√©rique corresponde √† une modalit√© de cette variable qualitative (c‚Äôest le cas, par exemple, avec le jeu de donn√©es <code>iris</code>), et que la fonction √† utiliser n√©cessiterait que l‚Äôon ait une colonne pour chacune des modalit√©s de la variable qualitative, avec des colonnes mises c√¥te √† c√¥te. Une fonction qui permet alors de passer d‚Äôun format ‚Äúlong‚Äù (i.e., toutes les valeurs num√©riques sont dans la m√™me colonne) √† un format ‚Äúlarge‚Äù (i.e., les valeurs num√©riques sont r√©parties dans diff√©rentes colonnes selon la modalit√© √† laquelle elles sont associ√©es), est la fonction <code>pivot_wider()</code> du package <code>tidyr</code>. Pour pouvoir utiliser cette fonction, il faut qu‚Äôil y ait une variable permettant d‚Äôidentifier √† quel individu ou groupe appartienne les donn√©es dont on va changer l‚Äôorganisation. Dans une base de donn√©es classique, il y a toujours une variable pr√©sente pour cela. Toutefois, dans le jeu de donn√©es <code>iris</code>, il n‚Äôy a pas une telle variable. Pour pouvoir illustrer l‚Äôutilisation de la fonction <code>pivot_wider()</code>, nous avons donc ajout√© arbitrairement une variable <code>id</code> gr√¢ce √† la fonction <code>mutate()</code> pour simuler le fait que les donn√©es de <code>iris</code> auraient √©t√© acquises en r√©f√©rence √† des individus bien identifi√©s, avec √† chaque fois une valeur pour les trois modalit√©s de la variable <code>Species</code>.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb72-1"></a>iris2 &lt;-<span class="st"> </span></span>
<span id="cb72-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb72-2"></a><span class="st">  </span>iris <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb72-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">50</span>, <span class="dt">times =</span> <span class="dv">3</span>)) <span class="op">%&gt;%</span></span>
<span id="cb72-4"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb72-4"></a><span class="st">  </span><span class="kw">select</span>(id, Species,  <span class="kw">everything</span>()) <span class="op">%&gt;%</span></span>
<span id="cb72-5"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb72-5"></a><span class="st">  </span><span class="kw">arrange</span>(id, Species) <span class="op">%&gt;%</span></span>
<span id="cb72-6"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb72-6"></a><span class="st">  </span><span class="kw">as_tibble</span>()</span>
<span id="cb72-7"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb72-7"></a>iris2</span></code></pre></div>
<pre><code>## [90m# A tibble: 150 x 6[39m
##       id Species    Sepal.Length Sepal.Width Petal.Length Petal.Width
##    [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m             [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m
## [90m 1[39m     1 setosa              5.1         3.5          1.4         0.2
## [90m 2[39m     1 versicolor          7           3.2          4.7         1.4
## [90m 3[39m     1 virginica           6.3         3.3          6           2.5
## [90m 4[39m     2 setosa              4.9         3            1.4         0.2
## [90m 5[39m     2 versicolor          6.4         3.2          4.5         1.5
## [90m 6[39m     2 virginica           5.8         2.7          5.1         1.9
## [90m 7[39m     3 setosa              4.7         3.2          1.3         0.2
## [90m 8[39m     3 versicolor          6.9         3.1          4.9         1.5
## [90m 9[39m     3 virginica           7.1         3            5.9         2.1
## [90m10[39m     4 setosa              4.6         3.1          1.5         0.2
## [90m# ‚Ä¶ with 140 more rows[39m</code></pre>
<p>La fonction <code>pivot_wider()</code> permet alors de mettre en colonnes les valeurs des variables s√©lectionn√©es pour chacune des trois modalit√©s de la variable <code>Species</code> (ci-dessous, seules les trois colonnes relatives √† la longueur des s√©pales des fleurs (<code>Sepal.Length</code>) sont montr√©es, mais le reste a bien √©t√© cr√©e).</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb74-1"></a>iris3 &lt;-<span class="st"> </span></span>
<span id="cb74-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb74-2"></a><span class="st">  </span>iris2 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb74-3"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> Species, </span>
<span id="cb74-4"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb74-4"></a>              <span class="dt">values_from =</span> Sepal.Length <span class="op">:</span><span class="st"> </span>Petal.Width)</span>
<span id="cb74-5"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb74-5"></a>iris3</span></code></pre></div>
<pre><code>## [90m# A tibble: 50 x 13[39m
##       id Sepal.Length_se‚Ä¶ Sepal.Length_ve‚Ä¶ Sepal.Length_vi‚Ä¶ Sepal.Width_set‚Ä¶
##    [3m[90m&lt;int&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m
## [90m 1[39m     1              5.1              7                6.3              3.5
## [90m 2[39m     2              4.9              6.4              5.8              3  
## [90m 3[39m     3              4.7              6.9              7.1              3.2
## [90m 4[39m     4              4.6              5.5              6.3              3.1
## [90m 5[39m     5              5                6.5              6.5              3.6
## [90m 6[39m     6              5.4              5.7              7.6              3.9
## [90m 7[39m     7              4.6              6.3              4.9              3.4
## [90m 8[39m     8              5                4.9              7.3              3.4
## [90m 9[39m     9              4.4              6.6              6.7              2.9
## [90m10[39m    10              4.9              5.2              7.2              3.1
## [90m# ‚Ä¶ with 40 more rows, and 8 more variables: Sepal.Width_versicolor [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   Sepal.Width_virginica [3m[90m&lt;dbl&gt;[90m[23m, Petal.Length_setosa [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   Petal.Length_versicolor [3m[90m&lt;dbl&gt;[90m[23m, Petal.Length_virginica [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   Petal.Width_setosa [3m[90m&lt;dbl&gt;[90m[23m, Petal.Width_versicolor [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   Petal.Width_virginica [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
<p>L‚Äôargument <code>names_from</code> a permis d‚Äôindiquer la variable √† partir de laquelle on a dispatch√© les valeurs en colonnes, et l‚Äôargument <code>values_from</code> a permis de pr√©ciser les variables pour lesquelles on voulait que les valeurs num√©riques soient dispatch√©es. L‚Äôutilisation des deux-points (<code>:</code>) nous a permis de s√©lectionner toutes les variables allant de <code>Sepal.Length</code> √† <code>Petal.Width</code> dans le jeu de donn√©es.</p>
<p>Dans une situation inverse √† celle que nous venons de voir, nous pourrions avoir les donn√©es repr√©sent√©es en colonnes (comme c‚Äôest le cas avec le jeu de donn√©es cr√©e <code>iris3</code>), alors que nous les voudrions en lignes (comme c‚Äô√©tait le cas avec le jeu de donn√©es <code>iris</code> √† l‚Äôorigine). La fonction <code>pivot_longer</code> permet de faire cette conversion.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb76-1"></a>iris4 &lt;-<span class="st"> </span></span>
<span id="cb76-2"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb76-2"></a><span class="st">  </span>iris3 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb76-3"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb76-3"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="kw">c</span>(Sepal.Length_setosa, Sepal.Length_versicolor, Sepal.Length_virginica), </span>
<span id="cb76-4"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb76-4"></a>               <span class="dt">names_to =</span> <span class="st">&quot;Species&quot;</span>, </span>
<span id="cb76-5"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb76-5"></a>               <span class="dt">values_to =</span> <span class="st">&quot;Sepal_len&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb76-6"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb76-6"></a><span class="st">  </span><span class="kw">select</span>(id, Species, Sepal_len)</span>
<span id="cb76-7"><a href="importation-et-manipulation-dune-base-de-donn√©es.html#cb76-7"></a>iris4</span></code></pre></div>
<pre><code>## [90m# A tibble: 150 x 3[39m
##       id Species                 Sepal_len
##    [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m                       [3m[90m&lt;dbl&gt;[39m[23m
## [90m 1[39m     1 Sepal.Length_setosa           5.1
## [90m 2[39m     1 Sepal.Length_versicolor       7  
## [90m 3[39m     1 Sepal.Length_virginica        6.3
## [90m 4[39m     2 Sepal.Length_setosa           4.9
## [90m 5[39m     2 Sepal.Length_versicolor       6.4
## [90m 6[39m     2 Sepal.Length_virginica        5.8
## [90m 7[39m     3 Sepal.Length_setosa           4.7
## [90m 8[39m     3 Sepal.Length_versicolor       6.9
## [90m 9[39m     3 Sepal.Length_virginica        7.1
## [90m10[39m     4 Sepal.Length_setosa           4.6
## [90m# ‚Ä¶ with 140 more rows[39m</code></pre>
<p>Dans la fonction <code>pivot_longer()</code> ci-dessus, nous avons indiqu√© √† l‚Äôaide de l‚Äôargument <code>cols</code> et de la fonction <code>c()</code> l‚Äôensemble des variables dont nous souhaitions voir les valeurs regroup√©es dans une m√™me colonne. L‚Äôargument <code>names_to</code> nous a permis de donner un nom √† la variable qualitative qui comporte les modalit√©s √† associer aux valeurs num√©riques, et l‚Äôargument <code>values_to</code> nous a permis de donner un nom √† la colonne o√π se trouvent maintenant les valeurs num√©riques. Les deux nouvelles colonnes ainsi cr√©es se trouvent tout √† gauche du tableau <code>iris4</code>, mais nous avons s√©lectionn√© pour cet exemple seulement les colonnes qui permettaient d‚Äôillustrer le r√©sultat de la fonction. On peut remarquer cependant qu‚Äôen cr√©ant ces colonnes, R a d√ª dupliquer les valeurs de la variable id et des autres colonnes pour pouvoir garder la correspondance entre les donn√©es, chose que l‚Äôon peut voir en tapant <code>iris4</code> dans la Console.</p>
<p>Nous venons de voir plusieurs fonctions qui peuvent √™tre tr√®s utiles pour pouvoir facilement pr√©parer sa base de donn√©es en vue des futures analyses. Il ne s‚Äôagit que d‚Äôune vue tr√®s superficielle de tout le potentiel de manipulation des donn√©es qu‚Äôont ces fonctions. Pour une vue approndie des possibilit√©s qu‚Äôoffrent ces fonctions, la lecture de l‚Äôouvrage <em>R for Data Science</em> d‚ÄôHadley Wickham et de Garrett Grolemund <span class="citation">(<a href="#ref-Wickham2017" role="doc-biblioref">2017</a>)</span> sera particuli√®rement enrichissante. Cet ouvrage est en libre acc√®s ici : <a href="https://r4ds.had.co.nz" class="uri">https://r4ds.had.co.nz</a>.</p>
</div>
</div>
<div id="r√©sum√©-1" class="section level2">
<h2><span class="header-section-number">2.5</span> R√©sum√©</h2>
<ul>
<li>La base de donn√©es est un tableau comportant l‚Äôensemble des donn√©es avec les observations organis√©es en lignes et les variables organis√©es en colonnes.</li>
<li>Les grands types de variables que l‚Äôon peut retrouver dans une base de donn√©es sont les variables quantitatives continues, les variables quantitatives discr√®tes, les variables qualitatives nominales, et les variables qualitatives ordinales.</li>
<li>Avant d‚Äôinitier un travail d‚Äôanalyse, il peut √™tre utile de fixer le r√©pertoire avec la fonction <code>setwd()</code>.</li>
<li>Pour importer un jeu de donn√©es au format .csv, il est possible d‚Äôutiliser la fonction <code>readr::read_csv2()</code>.</li>
<li>Pour exporter un jeu de donn√©es au format .csv, il est possible d‚Äôutiliser la fonction <code>readr::write_csv2()</code>.</li>
<li>Pour mettre un tableau de donnn√©es au format <em>data frame</em>, utiliser la fonction <code>as.data.frame()</code>.</li>
<li>Pour mettre un tableau de donn√©es au format <em>tibble</em>, utiliser la fonction <code>tibble::as_tibble()</code>.</li>
<li>Pour lister les variables pr√©sentes dans un tableau de donn√©es, utiliser la fonction <code>str()</code>.</li>
<li>Pour modifier les types des variables, utiliser des fonctions comme <code>as.numeric()</code>, <code>as.factor()</code>, <code>as.character()</code>, <code>as.Date()</code>, etc.</li>
<li>Pour s√©lectionner les variables d‚Äôun tableau de donn√©es, utiliser la fonction <code>dplyr::select()</code>.</li>
<li>Pour renommer les variables d‚Äôun tableau de donn√©es, utiliser la fonction <code>dplyr::rename()</code>.</li>
<li>Pour cr√©er de nouvelles variables dans un tableau de donn√©es, utliser la fonction <code>dplyr::mutate()</code>.</li>
<li>Pour s√©lectionner des lignes dans un tableau de donn√©es, utiliser la fonction <code>dplyr::filter()</code>.</li>
<li>Pour trier les lignes d‚Äôun tableau de donn√©es, utiliser la fonction <code>dplyr::arrange()</code>.</li>
<li>Pour r√©sumer les variables d‚Äôun tableau de donn√©es, utiliser les fonctions <code>dplyr::group_by()</code> et <code>dplyr::summarize()</code>.</li>
<li>Pour passer d‚Äôun tableau de donn√©es au format <em>long</em> √† un tableau de donn√©es au format <em>wide</em>, utiliser la fonction <code>tidyr::pivot_wider()</code>.</li>
<li>Pour passer d‚Äôun tableau de donn√©es au uformat <em>wide</em> √† un tableau de donn√©es au format <em>long</em>, utiliser la fonction <code>tidyr::pivot_longer()</code>.</li>
<li>Pour encha√Æner l‚Äôapplication de fonctions, utiliser le symbole <code>%&gt;%</code> (<em>pipe</em>, package <code>magrittr</code>).</li>
</ul>

</div>
</div>
<h3>R√©f√©rences</h3>
<div id="refs" class="references">
<div id="ref-Labreuche2010">
<p>Labreuche, J. (2010). Les diff√©rents types de¬†variables, leurs repr√©sentations graphiques et¬†param√®tres descriptifs. <em>Sang Thrombose Vaisseaux</em>, <em>22</em>(10), 536‚Äì543. <a href="https://doi.org/10.1684/stv.2010.0541">https://doi.org/10.1684/stv.2010.0541</a></p>
</div>
<div id="ref-Wickham2017">
<p>Wickham, H., &amp; Grolemund, G. (2017). <em>R for Data Science</em>. O‚ÄôReilly.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pr√©requis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analyses-descriptives-univari√©es.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
